extends base

block children
  - const path = redirect || "";
  - const q = path ? `?redirect=${encodeURIComponent(path)}` : "";

  div.container
    div
      h3.title= labels.title || "Authentication"
      p.instruction(style="font-size: 0.875rem; line-height: 1.25rem")= labels.instruction || "Enter the pass key to continue"

    form(method="post", action=`${rootpath}${q}`)
      div
        input#passkey(
          type="password",
          name="passkey",
          placeholder=labels.passkey_placeholder === undefined ? "Enter the pass key" : labels.passkey_placeholder,
          required,
          autofocus
        )
        if error
          p.message.error= error
        if un
          p.message.success= labels.unpassed || "Unpassed"

      div(style="display: grid; gap: 10px")
        button(type="submit") Submit
        a.unpass(href=`${rootpath}/un${q}`, style="justify-self: end")= labels.unpass || "Unpass"
